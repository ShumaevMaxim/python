"""
Необходимо распределить 450 мест между партиями, участвующими в выборах. Распределение происходит следующим образом:
1. Подсчитывается сумма голосов, которые были отданы за каждую партию, а также общая сумма голосов за все партии.

2. Общая сумма голосов делится на 450, чтобы получить значение, называемое "первое избирательное частное" - это количество
 голосов, необходимых для получения одного места в парламенте.

3. Каждая партия получает столько мест в парламенте, сколько раз число голосов за неё делится на первое избирательное
частное (целая часть от деления).

4. Если после первого раунда распределения мест сумма количества мест, отданных партиям, меньше 450,
 то оставшиеся места передаются партиям, у которых дробная часть от деления числа голосов на первое избирательное частное наибольшая.
  При равенстве дробных частей, преимущество отдается партии с большим числом голосов.

5. Необходимо вывести названия всех партий и количество голосов, которые эти партии получили в парламенте.
Названия должны быть выведены в том же порядке, в каком они были заданы во входных данных.


Входные данные (файл):
- Список партий, участвующих в выборах. Затем строки, каждая из которых содержит название партии (строку, которая может включать пробелы)
 и количество голосов, полученных этой партией.

Выходные данные (файл):
- Названия всех партий и количество голосов, которые они получили в парламенте. Названия должны быть выведены в том же порядке,
 в котором они были заданы во входных данных.
"""


# Открываем входной файл и считываем список партий и голосов.
with open("input.txt", "r") as f:
    parties = []
    votes = []
    for line in f:
        party, vote = line.strip().split()
        parties.append(party)
        votes.append(int(vote))

# Считаем общую сумму голосов.
total_votes = sum(votes)

# Делим общую сумму голосов на 450, чтобы получить первое избирательное частное.
first_electoral_quotient = total_votes / 450

# Подсчитываем количество мест для каждой партии в первом раунде распределения.
rounded_quotients = [int(vote / first_electoral_quotient) for vote in votes]

# Подсчитываем количество нераспределённых мест.
remaining_seats = 450 - sum(rounded_quotients)

# Сортируем партии по убыванию дробной части от деления голосов на первое избирательное частное.
sorted_parties = sorted(zip(parties, votes, rounded_quotients, [vote % first_electoral_quotient / vote for vote in votes]), key=lambda x: (-x[3], -x[1]))

# Распределяем оставшиеся места партиям с наибольшей дробной частью.
for party, vote, rounded_quotient, fractional_quotient in sorted_parties:
    if remaining_seats == 0:
        break
    if fractional_quotient == sorted_parties[0][3]:
        rounded_quotient += 1
        remaining_seats -= 1

# Выводим названия партий и количество мест в парламенте.
with open("output.txt", "w") as f:
    for party, vote, rounded_quotient, _ in sorted_parties:
        f.write(f"{party}: {rounded_quotient}\n")
